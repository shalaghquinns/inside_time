{% extends 'base.html' %}

{% block content %}

{% set zodiac_svgs = {
    'Aries': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -16.626 0a7.5 7.5 0 0 0 7.92 -12.446c.13 0 .261 0 .393 0z"/><path d="M12 3v10" /></svg>',
    'Taurus': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M6 3a6 6 0 0 0 12 0" /><path d="M12 15m-6 0a6 6 0 1 0 12 0a6 6 0 1 0 -12 0" /></svg>',
    'Gemini': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3a21 21 0 0 0 18 0" /><path d="M3 21a21 21 0 0 1 18 0" /><path d="M7 4.5v15" /><path d="M17 4.5v15" /></svg>',
    'Cancer': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M6 12a6 6 0 0 0 12 0" /><path d="M18 12a6 6 0 0 1 -12 0" /><path d="M6 12a6 6 0 0 1 0 -12" /><path d="M18 12a6 6 0 0 0 0 12" /></svg>',
    'Leo': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5a3 3 0 1 1 3 3a3 3 0 0 1 -3 -3z" /><path d="M9 12a3 3 0 0 1 3 -3h.5a2.5 2.5 0 0 1 2.5 2.5v1c0 1.5 1.5 3 3.5 3c2.5 0 4.5 -2 4 -4.5c-1 -2.5 -4 -4 -7 -4c-4 0 -6.5 2.5 -6.5 5.5v.5c0 1.5 1.5 3 3.5 3c2.5 0 4.5 -2 4 -4.5c-.5 -2 -2.5 -3 -4.5 -3" /></svg>',
    'Virgo': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4c-.12 0 -.238 .02 -.354 .058a3 3 0 0 0 -2.646 2.942h0v13" /><path d="M7 4c-.12 0 -.238 .02 -.354 .058a3 3 0 0 0 -2.646 2.942h0v13" /><path d="M16.626 10.5a4.5 4.5 0 1 0 2.192 8.302a2.5 2.5 0 1 1 -2.818 -3.802" /><path d="M14.5 4.5a3.5 3.5 0 0 1 2.126 6" /><path d="M11 14h2.5" /></svg>',
    'Libra': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a5 5 0 0 0 -5 5h10a5 5 0 0 0 -5 -5z" /><path d="M5 13h14" /><path d="M5 21h14" /></svg>',
    'Scorpio': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4c-.12 0 -.238 .02 -.354 .058a3 3 0 0 0 -2.646 2.942h0v13" /><path d="M7 4c-.12 0 -.238 .02 -.354 .058a3 3 0 0 0 -2.646 2.942h0v13" /><path d="M14.5 4.5a3.5 3.5 0 0 1 2.126 6" /><path d="M17.332 13.064a4.5 4.5 0 1 0 1.486 7.436a2.5 2.5 0 1 1 -2.818 -3.802" /><path d="M11 14h2.5" /><path d="M22 22l-2 -2" /></svg>',
    'Sagittarius': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h9v9" /><path d="M21 3l-9 9l-9 9" /><path d="M5 13l6 -6" /></svg>',
    'Capricorn': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M10 17a3 3 0 1 0 6 0" /><path d="M4 4a3 3 0 0 1 2.61 4.63a6 6 0 0 1 -1.947 10.637a2.5 2.5 0 1 1 -3.326 -3.534" /><path d="M12.5 8.5a3.5 3.5 0 1 1 2.467 6.11" /><path d="M12.5 8.5v8.5" /></svg>',
    'Aquarius': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 10l3 -3l3 3l3 -3l3 3l3 -3l3 3" /><path d="M3 17l3 -3l3 3l3 -3l3 3l3 -3l3 3" /></svg>',
    'Pisces': '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 3a9 9 0 1 0 0 18" /><path d="M19 3a9 9 0 1 1 0 18" /><path d="M2 12h20" /></svg>'
} %}

<div class="evolution-container">
    
    <div class="evo-header">
        <h1 class="evo-title">{{ sign }} <span class="evo-degree">{{ degree }}°</span></h1>
    </div>

    <div class="evo-visual">
        <a href="{{ prev_link }}" class="nav-arrow left">❮</a>
        
        <div class="evo-icon-container">
            {{ zodiac_svgs[sign]|safe }}
        </div>

        <a href="{{ next_link }}" class="nav-arrow right">❯</a>
    </div>

    <div class="evo-text-card">
        <p>{{ text }}</p>
    </div>

    <div style="text-align: center; margin-top: 30px;">
        <button onclick="history.back()" class="back-btn">Return to Map</button>
    </div>

</div>

<style>
    .evolution-container {
        max-width: 600px;
        margin: 0 auto;
        text-align: center;
        padding-top: 20px;
    }

    .evo-title {
        font-size: 2.5em;
        margin-bottom: 20px;
        color: #f8c291;
        font-family: 'Cinzel', serif;
    }

    .evo-degree {
        opacity: 0.6;
        font-size: 0.7em;
    }

    /* Navigation Layout */
    .evo-visual {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 30px;
        padding: 0 20px;
    }

    .nav-arrow {
        font-size: 30px;
        color: rgba(255,255,255,0.3);
        text-decoration: none;
        padding: 15px;
        transition: 0.2s;
        user-select: none;
    }

    .nav-arrow:hover {
        color: #f8c291;
        transform: scale(1.2);
    }

    /* The Center Icon */
    .evo-icon-container {
        width: 150px;
        height: 150px;
        color: white;
        filter: drop-shadow(0 0 20px rgba(255,255,255,0.2));
        animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
    }

    /* Text Card */
    .evo-text-card {
        background: rgba(255, 255, 255, 0.05);
        padding: 30px;
        border-radius: 15px;
        border-left: 4px solid #f8c291;
        text-align: left;
        line-height: 1.8;
        font-size: 1.1em;
        box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        margin: 0 20px;
        backdrop-filter: blur(5px);
    }

    .back-btn {
        background: none;
        border: 1px solid rgba(255,255,255,0.3);
        color: rgba(255,255,255,0.6);
        padding: 10px 25px;
        border-radius: 25px;
        cursor: pointer;
        font-family: 'Lato', sans-serif;
        transition: 0.3s;
    }
    .back-btn:hover {
        background: rgba(255,255,255,0.1);
        color: white;
        border-color: #f8c291;
    }
</style>

{% endblock %}